<div header-box>
    <div viewport>
        <a logo [routerLink]="[ '/' ]"><img src="assets/logo.png" alt=""></a>
        <div menu-list *ngIf="menu">
            <ng-container *ngFor="let item of menu.top">
                <ng-container *ngIf="item.url.indexOf('http')>-1">
                    <a item href="{{item.url}}" target="_blank"> {{item.text}}</a>
                </ng-container>
                <ng-container *ngIf="item.url.indexOf('http')<0">
                    <a item [routerLink]="[ item.url ]"> {{item.text}}</a>
                </ng-container>
            </ng-container>
        </div>
        <ng-container *ngIf="!userInfo">
            <div right (click)="openAuthModel()">登录 / 注册</div>
        </ng-container>
        <ng-container *ngIf="userInfo">
            <div right class="animate__animated animate__fadeIn">
                <app-avatar [uid]="userInfo.uid"></app-avatar>
                <div username>{{userInfo.username}}</div>
                <div user-menu>
                    <div menu-item [routerLink]="[ '/u', userInfo.uid ]">我的主页</div>
                    <div menu-item [routerLink]="[ '/setting' ]">设置</div>
                    <div menu-item (click)="logout()">登出</div>
                </div>
            </div>
        </ng-container>
    </div>
</div>